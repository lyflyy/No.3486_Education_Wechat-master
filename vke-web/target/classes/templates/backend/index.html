<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="backend/fragment/frag :: common_header(~{::title},_)">
    <title>知识猫</title>
</head>

<body class="gray-bg">

<div class="middle-box text-center loginscreen  animated fadeInDown">
    <div>

        <h1 class="logo-name">猫</h1>
    </div>
    <h3>欢迎使用 知识猫</h3>

    <form class="m-t" role="form" action="/login.html" method="post">
        <div th:if="${message}">
            <span style="color:red" th:text="${message}"></span>
        </div>
        <div class="form-group">
            <input type="email" id="loginName" class="form-control" placeholder="用户名" name="loginName" required="" value="admin@qq.com"/>
        </div>
        <div class="form-group">
            <input type="password" id="loginPwd" class="form-control" placeholder="密码" name="loginPwd" required="" value="000000"/>
        </div>
        <div class="form-group">
            <input type="text" class="form-control" name="verifyCode" id="verifyCode" placeholder="验证码" required=""/>
            <i><img id="codeImg" alt="点击更换" title="点击更换" src="getVCode.html" /></i>
        </div>
        <button type="submit" id="login_btn" class="btn btn-primary block full-width m-b">登 录</button>


        <!--<p class="text-muted text-center"><a href="login1.html#">
            <small>忘记密码了？</small>
        </a> | <a href="register.html">注册一个新账号</a>
        </p>-->

    </form>
</div>
<div th:include="backend/fragment/frag::commonScript"></div>
<script type="text/javascript">
    $(document).ready(function() {
        $('#loginName').focus();
        changeCode();
        $("#codeImg").bind("click", changeCode);
    });

    $(document).keyup(function(event) {
        if (event.keyCode == 13) {
            $("#login_btn").trigger("click");
        }
    });

    function changeCode() {
        $("#codeImg").attr("src", "getVCode.html?t=" + genTimestamp());
    }

    function genTimestamp() {
        var time = new Date();
        return time.getTime();
    }
</script>
</body>
</html>
